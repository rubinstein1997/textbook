<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="edu.wxc.book.mapper.ItemMapper">

    <resultMap id="ItemResultMap" type="edu.wxc.book.domain.Item">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Mon Jun 25 19:46:00 CST 2018.
        -->
        <id column="item_id" jdbcType="INTEGER" property="itemId" />
        <result column="apply_id" jdbcType="INTEGER" property="applyId" />
        <result column="course_title" jdbcType="VARCHAR" property="courseTitle" />
        <result column="isbn" jdbcType="VARCHAR" property="isbn" />
        <result column="book_name" jdbcType="VARCHAR" property="bookName" />
        <result column="author" jdbcType="VARCHAR" property="author" />
        <result column="press" jdbcType="VARCHAR" property="press" />
        <result column="publish_time" jdbcType="VARCHAR" property="publishTime" />
        <result column="book_category" jdbcType="VARCHAR" property="bookCategory" />
        <result column="major_grade" jdbcType="VARCHAR" property="majorGrade" />
        <result column="student_number" jdbcType="VARCHAR" property="studentNumber" />
        <result column="teacher_book" jdbcType="VARCHAR" property="teacherBook" />
        <result column="total_number" jdbcType="VARCHAR" property="totalNumber" />
        <result column="remark" jdbcType="VARCHAR" property="remark" />
    </resultMap>

    <insert id="addItem" useGeneratedKeys="true" keyProperty="item_id">
      INSERT INTO item (apply_id, course_title,
                        isbn, book_name,
                        author, press,
                        publish_time, book_category,
                        major_grade, student_number,
                        teacher_book, total_number,
                        remark)
                       VALUES
                       (#{applyId},#{item.courseTitle},
                       #{item.isbn},#{item.bookName},
                       #{item.author},#{item.press},
                       #{item.publishTime},#{item.bookCategory},
                       #{item.majorGrade},#{item.studentNumber},
                       #{item.teacherBook},#{item.totalNumber},
                       #{item.remark})
    </insert>


    <select id="selectByApplyId" parameterType="java.lang.Integer" resultMap="ItemResultMap">
        select
        item_id, apply_id, course_title, isbn,
        book_name, author, press, publish_time,
        book_category, major_grade, student_number,
        teacher_book, total_number, remark
        from item
        where apply_id = #{applyId,jdbcType=INTEGER}

    </select>
</mapper>
